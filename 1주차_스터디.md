### 목차
* [하둡이란](#하둡이란)
* [데이터 분석 아키텍쳐](#데이터-분석-아키텍쳐)
* [실습](#실습)
    - [Virtual Box 다운로드](#Virtual-box-다운로드)
    - [CentOS 7 다운로드](#centos-7-다운로드)
    - [(1) 가상머신 콘솔에서 고정 IP 설정](#(1)-가상머신-콘솔에서-고정-IP-설정)
    - [(2) 가상머신에 ssh 접속](#-2--------ssh---)
    - [(3) 필요한 리눅스 프로그램 설치](#-3-----------------)
    - [(4) JAVA 다운로드 및 설치](#-4--java----------)
    - [가상 머신 중단 및 VDI 이미지 백업하기](#-----------vdi---------)
    - [VDI 파일 백업하기](#vdi--------)
- [하둡 기본 명령어](#---------)
- [샘플 데이터](#------)

## 하둡이란

- 실행모드
  - standalone
  - ~

## 데이터 분석 아키텍쳐
- 수집 -> 적재 -> 처리/탐색 -> 분석/응용

#### 이번 실습에서의 필요 사양 (학습/테스트 용도)
- CPU : 듀얼코어 2.93Gz
- 램 : 2.0GB
- 하드디스크 : 100GB
- OS : CentOS 6 이상


#### [참고] 빅데이터 파일럿 프로젝트 시, 필요 사양
- 다양한 하둡 에코 시스템을 사용하는 파일럿 프로젝트를 사용할 때의 사양
- 메모리에 대한 리소스 사용률이 높으므로 여유 메모리를 최대한 확보

리소스 구분  | 저사양 파일럿 환경 | 고사양환경 | 비고
--------- | -------------- | ------- | ----
CPU | 듀얼코어 이상 | i5 이상 | i3 이상 권장
메모리| 8GB 이상 (여유 7GB) | 16GB 이상(여유 15GB) | 16GB 이상 권장
디스크 | 60GB 이상 | 100GB 이상 | SSD 권장


- OS는 CentOS 권장 (오픈소스 표준)

#### Virtual Box
- 가상머신이란?
- 가상머신을 왜 사용하는가?
- 대표적인 가상머신으로는 **Virtual Box**와 **VMWare**가 있다

## 실습

#### Virtual Box 다운로드
- https://www.virtualbox.org/wiki/Downloads

#### CentOS 7 다운로드
- http://mirror.retentionrange.co.bw/centOS/7/isos/x86_64/

#### (1) 가상머신 콘솔에서 고정 IP 설정
- 가상머신 콘솔에서 root로 로그인

~~~
client login: root
Password:  [hadoop]입력해주세요
~~~

- ifconfig가 설치되어 있지 않음

~~~
[1]$ yum  install  -y  net-tools
~~~
~~~
[root@client ~]# yum install -y net-tools
Loaded plugins: fastestmirror
...
Dependencies Resolved
================================================================================
 Package         Arch         Version                          Repository  Size
================================================================================
Installing:
 net-tools       x86_64       2.0-0.17.20131004git.el7         base       304 k

Transaction Summary
================================================================================
...
Running transaction
  Installing : net-tools-2.0-0.17.20131004git.el7.x86_64                    1/1
  Verifying  : net-tools-2.0-0.17.20131004git.el7.x86_64                    1/1

Installed:
  net-tools.x86_64 0:2.0-0.17.20131004git.el7

Complete!
-----------------------------------------------------------------------------------
~~~
-  먼저 IP 설정을 확인하고 디바이스 이름( enp... 로 시작) 확인

~~~
[2]$ ip a
~~~
~~~
[root@client ~]# ip a
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN qlen 1
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host
       valid_lft forever preferred_lft forever
2: enp0s3: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP qlen 1000
    link/ether 12:34:56:78:90:20 brd ff:ff:ff:ff:ff:ff
    inet 10.0.2.15/24 brd 10.0.2.255 scope global dynamic enp0s3
       valid_lft 73401sec preferred_lft 73401sec
    inet6 fe80::de96:c091:e0e0:a35f/64 scope link
       valid_lft forever preferred_lft forever
3: enp0s8: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP qlen 1000
    link/ether 12:34:56:78:90:21 brd ff:ff:ff:ff:ff:ff
    inet 192.168.56.101/24 brd 192.168.56.255 scope global dynamic enp0s8
       valid_lft 1099sec preferred_lft 1099sec
    inet6 fe80::58f4:a9a4:185b:2f73/64 scope link
       valid_lft forever preferred_lft forever
~~~

[ 3: enp0s8 ] 디바이스에 [ inet 192.168.56.101/24 ] 확인
                         (192.168.56.1XX)

IP를 고정시켜 줌
~~~
[3]$ ifconfig  enp0s8  192.168.56.21
[4]$ ip  a
~~~
부팅시 자동으로 실행되도록 rc.local에 추가

// 지금 실행하면 안됩니다. echo 'ifconfig  enp0s8  192.168.56.21' >> /etc/rc.d/rc.local

~~~
[root@client ~]# ifconfig  enp0s8  192.168.56.21

[root@client ~]# ip a
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN qlen 1
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host
       valid_lft forever preferred_lft forever
2: enp0s3: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP qlen 1000
    link/ether 12:34:56:78:90:20 brd ff:ff:ff:ff:ff:ff
    inet 10.0.2.15/24 brd 10.0.2.255 scope global dynamic enp0s3
       valid_lft 73183sec preferred_lft 73183sec
    inet6 fe80::de96:c091:e0e0:a35f/64 scope link
       valid_lft forever preferred_lft forever
3: enp0s8: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP qlen 1000
    link/ether 12:34:56:78:90:21 brd ff:ff:ff:ff:ff:ff
    inet 192.168.56.21/24 brd 192.168.56.255 scope global enp0s8
       valid_lft forever preferred_lft forever
    inet6 fe80::58f4:a9a4:185b:2f73/64 scope link
       valid_lft forever preferred_lft forever
~~~

출력 화면에서 다음과 같이 IP 설정된 것을 확인해야 함

~~~
1: log    => 127.0.0.1
2: enpXXX => 10.0.2.15
3: enpXXX => 192.168.56.21
~~~


#### (2) 가상머신에 ssh 접속
~~~
IP : 192.168.56.21
~~~  
외부 네트워크 연결 확인하기
~~~
[1]$ hostname
[2]$ ping -c 2 www.google.com
~~~
[NOTE] 먼저 노트북/PC의 인터넷 연결 여부를 확인하세요.
~~~
[root@client ~]# echo 'nameserver 8.8.8.8' >> /etc/resolv.conf
// 다시 ping -c 2 www.google.com
~~~

~~~
login as: root
root@192.168.56.21's password:
Last login: Fri May 26 18:13:00 2017 from 192.168.56.1

[root@client ~]# hostname
client.hadoop.kr

[root@client ~]# ping -c 2 www.google.com
PING www.google.com (216.58.197.4) 56(84) bytes of data.
64 bytes from kix06s02-in-f4.1e100.net (216.58.197.4): icmp_seq=1 ttl=51 time=45.7 ms
64 bytes from kix06s02-in-f4.1e100.net (216.58.197.4): icmp_seq=2 ttl=51 time=39.5 ms

--- www.google.com ping statistics ---
2 packets transmitted, 2 received, 0% packet loss, time 1002ms
rtt min/avg/max/mdev = 39.538/42.639/45.740/3.101 ms
~~~
#### (3) 필요한 리눅스 프로그램 설치
- ftp, wget 프로그램 설치
~~~
[3]$ yum install -y ftp wget
~~~
~~~
[root@client ~]# rpm -qa | grep wget
[root@client ~]# rpm -qa | grep ftp
[root@client ~]# yum install -y ftp wget
Loaded plugins: fastestmirror
...
  Installing : ftp-0.17-67.el7.x86_64                                                                   1/2
  Installing : wget-1.14-13.el7.x86_64                                                                  2/2
  Verifying  : wget-1.14-13.el7.x86_64                                                                  1/2
  Verifying  : ftp-0.17-67.el7.x86_64                                                                   2/2

Installed:
  ftp.x86_64 0:0.17-67.el7         wget.x86_64 0:1.14-13.el7

Complete!
~~~

Mysql 설치
- 마리아DB 대신 Mysql 설치할 수 있게 해주는 패키지 다운로드
~~~
[4]$ wget www.db21.co.kr/big/mysql-community-release-el7-5.noarch.rpm
~~~
패키지 설치
~~~
[5]$ yum -y install mysql-community-release-el7-5.noarch.rpm
~~~

Mysql 설치
~~~
[6]$ yum -y install mysql-community-server
~~~

Mysql 서버 시작
~~~
[7]$ systemctl start mysqld
~~~

(옵선) 리눅스 부팅시 Mysql 서버 자동 시작 설정(일단 하지 X)
~~~
[8]$ s y s t e m c t l enable mysql
~~~

설정 확인
~~~
[9]$ systemctl status mysqld
~~~
Mysql 서버 동작 확인
~~~
[10] $ mysqlshow
~~~

~~~
[root@client ~]# wget www.db21.co.kr/big/mysql-community-release-el7-5.noarch.rpm
--2017-05-26 18:51:17--  http://www.db21.co.kr/big/mysql-community-release-el7-5.noarch.rpm
Resolving www.db21.co.kr (www.db21.co.kr)... 121.124.124.244
Connecting to www.db21.co.kr (www.db21.co.kr)|121.124.124.244|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 6140 (6.0K) [text/plain]
Saving to: ‘mysql-community-release-el7-5.noarch.rpm’

100%[==================================================================>] 6,140       --.-K/s   in 0.004s

2017-05-26 18:51:17 (1.38 MB/s) - ‘mysql-community-release-el7-5.noarch.rpm’ saved [6140/6140]

[root@client ~]# yum -y install mysql-community-release-el7-5.noarch.rpm
Loaded plugins: fastestmirror
...
Running transaction
  Installing : mysql-community-release-el7-5.noarch                                                     1/1
  Verifying  : mysql-community-release-el7-5.noarch                                                     1/1

Installed:
  mysql-community-release.noarch 0:el7-5

Complete!

[root@client ~]# yum -y install mysql-community-server
Loaded plugins: fastestmirror

Installed:
  mysql-community-libs.x86_64 0:5.6.36-2.el7          mysql-community-server.x86_64 0:5.6.36-2.el7

Dependency Installed:
  libaio.x86_64 0:0.3.109-13.el7                       mysql-community-client.x86_64 0:5.6.36-2.el7
  mysql-community-common.x86_64 0:5.6.36-2.el7         perl.x86_64 4:5.16.3-291.el7
...
  perl-threads-shared.x86_64 0:1.43-6.el7

Replaced:
  mariadb-libs.x86_64 1:5.5.52-1.el7

Complete!
~~~

~~~
[root@client ~]# systemctl start mysqld

[root@client ~]# systemctl enable mysqld

[root@client ~]# systemctl status mysqld
● mysqld.service - MySQL Community Server
   Loaded: loaded (/usr/lib/systemd/system/mysqld.service; enabled; vendor preset: disabled)
   Active: active (running) since 금 2017-05-26 18:54:20 KST; 11s ago
 Main PID: 8901 (mysqld_safe)
   CGroup: /system.slice/mysqld.service
           ├─8901 /bin/sh /usr/bin/mysqld_safe --basedir=/usr
           └─9068 /usr/sbin/mysqld --basedir=/usr --datadir=/var/lib/mysql --plugin-dir=/usr/lib64/mysql/...

 5월 26 18:54:19 client.hadoop.kr mysql-systemd-start[8842]: Support MySQL by buying support/licenses ...om
 ...
 5월 26 18:54:20 client.hadoop.kr systemd[1]: Started MySQL Community Server.
Hint: Some lines were ellipsized, use -l to show in full.

[root@client ~]# mysqlshow
+--------------------+
|     Databases      |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
+--------------------+
~~~

#### (4) JAVA 다운로드 및 설치
- JAVA 다운로드(64비트)
~~~
[11]$ wget www.db21.co.kr/hadoop/jdk-7u55-linux-x64.rpm

[root@client ~]# wget www.db21.co.kr/hadoop/jdk-7u55-linux-x64.rpm
--2017-05-26 18:26:00--  http://www.db21.co.kr/hadoop/jdk-7u55-linux-x64.rpm
Resolving www.db21.co.kr (www.db21.co.kr)... 121.124.124.244
Connecting to www.db21.co.kr (www.db21.co.kr)|121.124.124.244|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 122656363 (117M) [text/plain]
Saving to: ‘jdk-7u55-linux-x64.rpm’

100%[===============================================>] 122,656,363 2.17MB/s   in 57s

2017-05-26 18:26:58 (2.04 MB/s) - ‘jdk-7u55-linux-x64.rpm’ saved [122656363/122656363]
~~~

**JAVA 설치**

[NOTE] 하둡계정은 별도의 JDK 버전을 사용함
- JDK의 설치 여부를 확인

~~~
[12]$ rpm -qa | grep 'jdk'
=> 아무것도 안나오면 정상!

[13]$ ls
=> JDK 설치

[14]$ rpm  -ivh  jdk-7u55-linux-x64.rpm
=> 심벌릭 링크를 걸어줌(버전 업그레이드할 때 편리함)

[15]$ ln  -s  /usr/java/jdk1.7.0_55  /usr/local/java

[16]$ ll /usr/local
~~~

~~~
[root@client ~]# rpm -qa | grep 'jdk'

[root@client ~]# ls
anaconda-ks.cfg  jdk-7u55-linux-x64.rpm  mysql-community-release-el7-5.noarch.rpm

[root@client ~]# rpm  -ivh  jdk-7u55-linux-x64.rpm
준비 중...                         ################################# [100%]
Updating / installing...
   1:jdk-2000:1.7.0_55-fcs            ################################# [100%]
Unpacking JAR files...
        rt.jar...
        jsse.jar...
        charsets.jar...
        tools.jar...
        localedata.jar...
        jfxrt.jar...

[root@client ~]# ln  -s  /usr/java/jdk1.7.0_55  /usr/local/java

[root@client ~]# ll /usr/local
합계 0
drwxr-xr-x. 2 root root  6 11월  6  2016 bin
drwxr-xr-x. 2 root root  6 11월  6  2016 etc
drwxr-xr-x. 2 root root  6 11월  6  2016 games
drwxr-xr-x. 2 root root  6 11월  6  2016 include
lrwxrwxrwx. 1 root root 21  5월 26 19:01 java -> /usr/java/jdk1.7.0_55
drwxr-xr-x. 2 root root  6 11월  6  2016 lib
drwxr-xr-x. 2 root root  6 11월  6  2016 lib64
drwxr-xr-x. 2 root root  6 11월  6  2016 libexec
drwxr-xr-x. 2 root root  6 11월  6  2016 sbin
drwxr-xr-x. 5 root root 49  5월 26 14:33 share
drwxr-xr-x. 2 root root  6 11월  6  2016 src
------------------------------------------------------------
~~~

**추가 작업 및 설정**

1.방화벽 중단하기
~~~
$ systemctl status firewalld

$ systemctl stop firewalld

$ systemctl disable firewalld
~~~
2.JDK RPM 파일 삭제
~~~
$ ll
$ rm jdk-7u55-linux-x64.rpm
~~~

**하둡 설치 관련 파일 다운로드**

- 리눅스 하둡 계정(hadoop) 추가
- 비밀번호는 hadoop
~~~
[1]$ adduser hadoop
[2]$ passwd hadoop
~~~

~~~
[root@client ~]# adduser hadoop
[root@client ~]# passwd hadoop
hadoop 사용자의 비밀 번호 변경 중
새  암호:
잘못된 암호: 암호는 8 개의 문자 보다 짧습니다
새  암호 재입력:
passwd: 모든 인증 토큰이 성공적으로 업데이트 되었습니다.
~~~

- 하둡 데이터 디렉터리 만들고 권한 부여

~~~
[3]$ mkdir   /data
[4]$ chown  hadoop  /data
[5]$ chgrp  hadoop  /data
[6]$ ll  /
~~~

~~~
[root@client ~]# mkdir  /data
[root@client ~]# chown  hadoop  /data
[root@client ~]# chgrp  Hadoop  /data
[root@client ~]# ll /
합계 16
lrwxrwxrwx.   1 root   root      7  5월 31 14:43 bin -> usr/bin
dr-xr-xr-x.   4 root   root   4096  5월 31 14:46 boot
drwxr-xr-x.   2 hadoop hadoop    6  5월 31 15:47 data
drwxr-xr-x.  17 root   root   2980  5월 31 14:50 dev
drwxr-xr-x.  76 root   root   8192  5월 31 15:47 etc
drwxr-xr-x.   3 root   root     20  5월 31 15:47 home
lrwxrwxrwx.   1 root   root      7  5월 31 14:43 lib -> usr/lib
lrwxrwxrwx.   1 root   root      9  5월 31 14:43 lib64 -> usr/lib64
drwxr-xr-x.   2 root   root      6 11월  6  2016 media
drwxr-xr-x.   2 root   root      6 11월  6  2016 mnt
drwxr-xr-x.   2 root   root      6 11월  6  2016 opt
dr-xr-xr-x. 103 root   root      0  5월 31 14:50 proc
dr-xr-x---.   2 root   root    192  5월 31 15:46 root
drwxr-xr-x.  22 root   root    640  5월 31 15:44 run
lrwxrwxrwx.   1 root   root      8  5월 31 14:43 sbin -> usr/sbin
drwxr-xr-x.   2 root   root      6 11월  6  2016 srv
dr-xr-xr-x.  13 root   root      0  5월 31 14:50 sys
drwxrwxrwt.   7 root   root    132  5월 31 15:46 tmp
drwxr-xr-x.  14 root   root    167  5월 31 15:47 usr
drwxr-xr-x.  19 root   root    267  5월 31 14:50 var
~~~

**SSH 처음 접속시 질문안받기**


~~~
[7]$ echo 'StrictHostKeyChecking no' >> /etc/ssh/ssh_config
~~~

[NOTE] 나중에 IP 설정이 꼬이면 아애 접속이 안됨
       이때는 ~/.ssh/known_hosts 삭제하면 됨!!!
       ( /root 또는 /home/hadoop )
~~~
[8]$ tail  /etc/ssh/ssh_config
~~~


~~~
[root@client ~]# echo 'StrictHostKeyChecking no' >> /etc/ssh/ssh_config

[root@client ~]# tail  /etc/ssh/ssh_config
# If this option is set to yes then remote X11 clients will have full access
# to the original X11 display. As virtually no X11 client supports the untrusted
# mode correctly we set this to yes.
        ForwardX11Trusted yes
# Send locale-related environment variables
        SendEnv LANG LC_CTYPE LC_NUMERIC LC_TIME LC_COLLATE LC_MONETARY LC_MESSAGES
        SendEnv LC_PAPER LC_NAME LC_ADDRESS LC_TELEPHONE LC_MEASUREMENT
        SendEnv LC_IDENTIFICATION LC_ALL LANGUAGE
        SendEnv XMODIFIERS
StrictHostKeyChecking no
[root@client ~]#
~~~

**하둡 계정으로 로그인하여 필요한 파일 다운로드**
~~~
[9]$ su  -  hadoop
~~~
[NOTE] 띄어쓰기 조심 : "su" 한칸 "-"(마이너스) 한칸 "hadoop"

=> Prompt가 다음과 같이 변경된 것을 확인하세요.
~~~
[root@client ~]# su  -  hadoop
[hadoop@client ~]$
~~~


=> 이제부터는 root가 아닌 hadoop 계정으로 작업합니다.
~~~
[1]$ whoami
     pwd
~~~
~~~
[hadoop@client ~]$ whoami
hadoop
[hadoop@client ~]$ pwd
/home/hadoop
~~~

**필요한 하둡 관련 파일 다운로드**
~~~
[2]$ wget www.db21.co.kr/big/hadoop-2.6.4.tar.gz
     wget www.db21.co.kr/big/bashrc2.txt
     wget www.db21.co.kr/big/pig-0.16.0.tar.gz
     wget www.db21.co.kr/big/apache-hive-1.2.1-bin.tar.gz
     wget www.db21.co.kr/big/hive-1.2.1-site.xml
     wget www.db21.co.kr/big/mysql-connector-java-5.1.23-bin.jar
     wget www.db21.co.kr/big/spark-1.6.2-bin-hadoop2.6.tgz
~~~
~~~
[hadoop@client ~]$ wget www.db21.co.kr/big/hadoop-2.6.4.tar.gz
--2017-05-26 18:32:05--  http://www.db21.co.kr/big/hadoop-2.6.4.tar.gz
Resolving www.db21.co.kr (www.db21.co.kr)...     

...
...

Saving to: ‘spark-1.6.2-bin-hadoop2.6.tgz’
100%[=====================================>] 278,057,117 4.51MB/s   in 71s
2017-05-26 18:35:13 (3.73 MB/s) - ‘spark-1.6.2-bin-hadoop2.6.tgz’ saved [278057117/278057117]
~~~

==> Hadoop, Pig, Hive, Spark 압축풀고 링크 걸기


##### 하둡 압축풀기

하둡 Tarball 파일 압축 풀기
~~~
[3]$ tar xvzf hadoop-2.6.4.tar.gz
~~~

버전 관리를 위해서 심벌릭 링크 걸기

~~~
[4]$ ln -s  /home/hadoop/hadoop-2.6.4  /home/hadoop/hadoop
~~~

##### Pig 압축풀기

Pig Tarball 파일 압축 풀기
~~~
[5]$ tar xvzf  pig-0.16.0.tar.gz
~~~

버전 관리를 위해서 심벌릭 링크 걸기
~~~
[6]$ ln -s  pig-0.16.0  pig
~~~

##### Hive 압축풀기

Hive Tarball 파일 압축 풀기
~~~
[7]$ tar xvzf apache-hive-1.2.1-bin.tar.gz
~~~
버전 관리를 위해서 심벌릭 링크 걸기
~~~
[8]$ ln -s apache-hive-1.2.1-bin  hive
~~~

##### Spark 압축풀기

- Spark Tarball 파일 압축 풀기
~~~
[9]$ tar xvzf  spark-1.6.2-bin-hadoop2.6.tgz
[10]$ ln -s  spark-1.6.2-bin-hadoop2.6  spark
~~~

##### 확인하기

~~~
[11]$ ll
~~~

~~~
[hadoop@client ~]$ ll
합계 727756
drwxrwxr-x.  8 hadoop hadoop       159  5월 26 19:07 apache-hive-1.2.1-bin
-rw-rw-r--.  1 hadoop hadoop  92834839  6월 27  2015 apache-hive-1.2.1-bin.tar.gz
-rw-rw-r--.  1 hadoop hadoop      1512  9월 17  2016 bashrc2.txt
lrwxrwxrwx.  1 hadoop hadoop        25  5월 26 19:07 hadoop -> /home/hadoop/hadoop-2.6.4
drwxr-xr-x.  9 hadoop hadoop       149  2월 12  2016 hadoop-2.6.4
-rw-rw-r--.  1 hadoop hadoop 196015975  2월 12  2016 hadoop-2.6.4.tar.gz
lrwxrwxrwx.  1 hadoop hadoop        21  5월 26 19:07 hive -> apache-hive-1.2.1-bin
-rw-rw-r--.  1 hadoop hadoop    168409  9월 17  2016 hive-1.2.1-site.xml
-rw-rw-r--.  1 hadoop hadoop    843090  3월 24  2013 mysql-connector-java-5.1.23-bin.jar
lrwxrwxrwx.  1 hadoop hadoop        10  5월 26 19:07 pig -> pig-0.16.0
drwxr-xr-x. 16 hadoop hadoop      4096  6월  2  2016 pig-0.16.0
-rw-rw-r--.  1 hadoop hadoop 177279333  6월  8  2016 pig-0.16.0.tar.gz
lrwxrwxrwx.  1 hadoop hadoop        25  5월 26 19:08 spark -> spark-1.6.2-bin-hadoop2.6
drwxr-xr-x. 12 hadoop hadoop       210  6월 22  2016 spark-1.6.2-bin-hadoop2.6
-rw-rw-r--.  1 hadoop hadoop 278057117  6월 25  2016 spark-1.6.2-bin-hadoop2.6.tgz

~~~

##### Tarball 파일 삭제

4개의 Tarball 파일 삭제
~~~
[12]$ rm  hadoop-2.6.4.tar.gz                  
      rm  pig-0.16.0.tar.gz
      rm  apache-hive-1.2.1-bin.tar.gz  
      rm  spark-1.6.2-bin-hadoop2.6.tgz
~~~

#####확인
~~~
[13]$ ll
~~~
~~~
[hadoop@client ~]$ rm  hadoop-2.6.4.tar.gz
[hadoop@client ~]$ rm  pig-0.16.0.tar.gz
[hadoop@client ~]$ rm  apache-hive-1.2.1-bin.tar.gz
[hadoop@client ~]$ rm  spark-1.6.2-bin-hadoop2.6.tgz
[hadoop@client ~]$ ll
합계 1000
drwxrwxr-x.  8 hadoop hadoop    159  5월 26 19:07 apache-hive-1.2.1-bin
-rw-rw-r--.  1 hadoop hadoop   1512  9월 17  2016 bashrc2.txt
lrwxrwxrwx.  1 hadoop hadoop     25  5월 26 19:07 hadoop -> /home/hadoop/hadoop-2.6.4
drwxr-xr-x.  9 hadoop hadoop    149  2월 12  2016 hadoop-2.6.4
lrwxrwxrwx.  1 hadoop hadoop     21  5월 26 19:07 hive -> apache-hive-1.2.1-bin
-rw-rw-r--.  1 hadoop hadoop 168409  9월 17  2016 hive-1.2.1-site.xml
-rw-rw-r--.  1 hadoop hadoop 843090  3월 24  2013 mysql-connector-java-5.1.23-bin.jar
lrwxrwxrwx.  1 hadoop hadoop     10  5월 26 19:07 pig -> pig-0.16.0
drwxr-xr-x. 16 hadoop hadoop   4096  6월  2  2016 pig-0.16.0
lrwxrwxrwx.  1 hadoop hadoop     25  5월 26 19:08 spark -> spark-1.6.2-bin-hadoop2.6
drwxr-xr-x. 12 hadoop hadoop    210  6월 22  2016 spark-1.6.2-bin-hadoop2.6
~~~


#### 가상 머신 중단 및 VDI 이미지 백업하기


로그아웃 -> 다시 root 계정
~~~
[1]$ exit
~~~
디스크 용량 확인
~~~
[2]$ df
~~~
전원끄기 신호 보내기
~~~
[3]$ shutdown  -h  now
~~~

#### VDI 파일 백업하기

~~~
[hadoop@client ~]$ exit
logout
[root@client ~]# df
Filesystem     1K-blocks    Used Available Use% Mounted on
/dev/sda3        3770368 2867824    902544  77% /
devtmpfs          586868       0    586868   0% /dev
tmpfs             596464       0    596464   0% /dev/shm
tmpfs             596464    7784    588680   2% /run
tmpfs             596464       0    596464   0% /sys/fs/cgroup
/dev/sda1         201380   94904    106476  48% /boot
tmpfs             119296       0    119296   0% /run/user/0

[root@client ~]# shutdown  -h  now
~~~


# 하둡 기본 명령어
# 샘플 데이터
